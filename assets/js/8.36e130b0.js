(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{345:function(t,v,_){"use strict";_.r(v);var a=_(33),e=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"表的操作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#表的操作"}},[t._v("#")]),t._v(" 表的操作")]),t._v(" "),_("h2",{attrs:{id:"创建表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#创建表"}},[t._v("#")]),t._v(" 创建表")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("create table 表名(\n字段名1 类型[(宽度) 约束条件],\n字段名2 类型[(宽度) 约束条件],\n字段名3 类型[(宽度) 约束条件]\n);\n\n#注意：\n1. 在同一张表中，字段名是不能相同\n2. 宽度和约束条件可选\n3. 字段名和类型是必须的\n")])])]),_("h2",{attrs:{id:"查看表结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#查看表结构"}},[t._v("#")]),t._v(" 查看表结构")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("show tables; //查看当前数据库所有表\ndesc [tablename]; //可以查看当前的表结构\n\n虽然desc命令可以查看表的定义，但是其输出的信息还不够全面，为了得到更全面的表定义信息，有时候就需要查看创建表的SQL语句，使用show create table语法。除了可以看到表定义之外，还可以看到engine（存储引擎）和charset（字符集）等信息。\n")])])]),_("h2",{attrs:{id:"表的数据类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#表的数据类型"}},[t._v("#")]),t._v(" 表的数据类型")]),t._v(" "),_("h3",{attrs:{id:"_1-数值类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-数值类型"}},[t._v("#")]),t._v(" 1.数值类型")]),t._v(" "),_("p",[t._v("MySQL支持所有标准SQL数值数据类型。")]),t._v(" "),_("p",[t._v("这些类型包括严格数值数据类型(INTEGER、SMALLINT、DECIMAL和NUMERIC)，以及近似数值数据类型(FLOAT、REAL和DOUBLE PRECISION)。")]),t._v(" "),_("p",[t._v("关键字INT是INTEGER的同义词，关键字DEC是DECIMAL的同义词。")]),t._v(" "),_("p",[t._v("MySQL支持的整数类型有TINYINT、MEDIUMINT和BIGINT。下面的表显示了需要的每个整数类型的存储和范围。")]),t._v(" "),_("p",[t._v("对于小数的表示，MYSQL分为两种方式：浮点数和定点数。浮点数包括float(单精度)和double(双精度),而定点数只有decimal一种，在mysql中以字符串的形式存放，比浮点数更精确，适合用来表示货币等精度高的数据。")]),t._v(" "),_("p",[t._v("BIT数据类型保存位字段值，并且支持MyISAM、MEMORY、InnoDB和BDB表。")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("大小")]),t._v(" "),_("th",[t._v("范围（有符号）")]),t._v(" "),_("th",[t._v("范围（无符号）unsigned约束")]),t._v(" "),_("th",[t._v("用途")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("TINYINT")]),t._v(" "),_("td",[t._v("1 字节")]),t._v(" "),_("td",[t._v("(-128，127)")]),t._v(" "),_("td",[t._v("(0，255)")]),t._v(" "),_("td",[t._v("小整数值")])]),t._v(" "),_("tr",[_("td",[t._v("SMALLINT")]),t._v(" "),_("td",[t._v("2 字节")]),t._v(" "),_("td",[t._v("(-32 768，32 767)")]),t._v(" "),_("td",[t._v("(0，65 535)")]),t._v(" "),_("td",[t._v("大整数值")])]),t._v(" "),_("tr",[_("td",[t._v("MEDIUMINT")]),t._v(" "),_("td",[t._v("3 字节")]),t._v(" "),_("td",[t._v("(-8 388 608，8 388 607)")]),t._v(" "),_("td",[t._v("(0，16 777 215)")]),t._v(" "),_("td",[t._v("大整数值")])]),t._v(" "),_("tr",[_("td",[t._v("INT或INTEGER")]),t._v(" "),_("td",[t._v("4 字节")]),t._v(" "),_("td",[t._v("(-2 147 483 648，2 147 483 647)")]),t._v(" "),_("td",[t._v("(0，4 294 967 295)")]),t._v(" "),_("td",[t._v("大整数值")])]),t._v(" "),_("tr",[_("td",[t._v("BIGINT")]),t._v(" "),_("td",[t._v("8 字节")]),t._v(" "),_("td",[t._v("(-9 233 372 036 854 775 808，9 223 372 036 854 775 807)")]),t._v(" "),_("td",[t._v("(0，18 446 744 073 709 551 615)")]),t._v(" "),_("td",[t._v("极大整数值")])]),t._v(" "),_("tr",[_("td",[t._v("FLOAT")]),t._v(" "),_("td",[t._v("4 字节float(255,30)")]),t._v(" "),_("td",[t._v("(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)")]),t._v(" "),_("td",[t._v("0，(1.175 494 351 E-38，3.402 823 466 E+38)")]),t._v(" "),_("td",[t._v("单精度 浮点数值")])]),t._v(" "),_("tr",[_("td",[t._v("DOUBLE")]),t._v(" "),_("td",[t._v("8 字节double(255,30)")]),t._v(" "),_("td",[t._v("(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)")]),t._v(" "),_("td",[t._v("0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)")]),t._v(" "),_("td",[t._v("双精度 浮点数值")])]),t._v(" "),_("tr",[_("td",[t._v("DECIMAL")]),t._v(" "),_("td",[t._v("对DECIMAL(M,D) ，如果M>D，为M+2否则为D+2double(65,30)")]),t._v(" "),_("td",[t._v("依赖于M和D的值")]),t._v(" "),_("td",[t._v("依赖于M和D的值")]),t._v(" "),_("td",[t._v("小数值")])])])]),t._v(" "),_("h3",{attrs:{id:"_2-日期时间类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-日期时间类型"}},[t._v("#")]),t._v(" 2.日期时间类型")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("大小 (字节)")]),t._v(" "),_("th",[t._v("范围")]),t._v(" "),_("th",[t._v("格式")]),t._v(" "),_("th",[t._v("用途")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("DATE")]),t._v(" "),_("td",[t._v("3")]),t._v(" "),_("td",[t._v("1000-01-01/9999-12-31")]),t._v(" "),_("td",[t._v("YYYY-MM-DD")]),t._v(" "),_("td",[t._v("年月日")])]),t._v(" "),_("tr",[_("td",[t._v("TIME")]),t._v(" "),_("td",[t._v("3")]),t._v(" "),_("td",[t._v("'-838:59:59'/'838:59:59'")]),t._v(" "),_("td",[t._v("HH:MM:SS")]),t._v(" "),_("td",[t._v("时分秒")])]),t._v(" "),_("tr",[_("td",[t._v("YEAR")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1901/2155")]),t._v(" "),_("td",[t._v("YYYY")]),t._v(" "),_("td",[t._v("年份值")])]),t._v(" "),_("tr",[_("td",[t._v("DATETIME")]),t._v(" "),_("td",[t._v("8")]),t._v(" "),_("td",[t._v("1000-01-01 00:00:00/9999-12-31 23:59:59")]),t._v(" "),_("td",[t._v("YYYY-MM-DD HH:MM:SS")]),t._v(" "),_("td",[t._v("年月日时分秒")])]),t._v(" "),_("tr",[_("td",[t._v("TIMESTAMP")]),t._v(" "),_("td",[t._v("4")]),t._v(" "),_("td",[t._v("1970-01-01 00:00:00/2038结束时间是第 "),_("strong",[t._v("2147483647")]),t._v(" 秒，北京时间 "),_("strong",[t._v("2038-1-19 11:14:07")]),t._v("，格林尼治时间 2038年1月19日 凌晨 03:14:07")]),t._v(" "),_("td",[t._v("YYYYMMDD HHMMSS")]),t._v(" "),_("td",[t._v("混合日期和时间值，时间戳")])])])]),t._v(" "),_("h3",{attrs:{id:"_3-字符串类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-字符串类型"}},[t._v("#")]),t._v(" 3.字符串类型")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("大小")]),t._v(" "),_("th",[t._v("用途")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("CHAR")]),t._v(" "),_("td",[t._v("0-255字节")]),t._v(" "),_("td",[t._v("定长字符串")])]),t._v(" "),_("tr",[_("td",[t._v("VARCHAR")]),t._v(" "),_("td",[t._v("0-65535 字节")]),t._v(" "),_("td",[t._v("变长字符串")])]),t._v(" "),_("tr",[_("td",[t._v("TINYBLOB")]),t._v(" "),_("td",[t._v("0-255字节")]),t._v(" "),_("td",[t._v("不超过 255 个字符的二进制字符")])]),t._v(" "),_("tr",[_("td",[t._v("TINYTEXT")]),t._v(" "),_("td",[t._v("0-255字节")]),t._v(" "),_("td",[t._v("短文本字符串")])]),t._v(" "),_("tr",[_("td",[t._v("BLOB")]),t._v(" "),_("td",[t._v("0-65 535字节")]),t._v(" "),_("td",[t._v("二进制形式的长文本数据")])]),t._v(" "),_("tr",[_("td",[t._v("TEXT")]),t._v(" "),_("td",[t._v("0-65 535字节")]),t._v(" "),_("td",[t._v("长文本数据")])]),t._v(" "),_("tr",[_("td",[t._v("MEDIUMBLOB")]),t._v(" "),_("td",[t._v("0-16 777 215字节")]),t._v(" "),_("td",[t._v("二进制形式的中等长度文本数据")])]),t._v(" "),_("tr",[_("td",[t._v("MEDIUMTEXT")]),t._v(" "),_("td",[t._v("0-16 777 215字节")]),t._v(" "),_("td",[t._v("中等长度文本数据")])]),t._v(" "),_("tr",[_("td",[t._v("LONGBLOB")]),t._v(" "),_("td",[t._v("0-4 294 967 295字节")]),t._v(" "),_("td",[t._v("二进制形式的极大文本数据")])]),t._v(" "),_("tr",[_("td",[t._v("LONGTEXT")]),t._v(" "),_("td",[t._v("0-4 294 967 295字节")]),t._v(" "),_("td",[t._v("极大文本数据")])])])]),t._v(" "),_("h3",{attrs:{id:"_4-enum和set类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-enum和set类型"}},[t._v("#")]),t._v(" 4.ENUM和SET类型")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("大小")]),t._v(" "),_("th",[t._v("用途")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("ENUM")]),t._v(" "),_("td",[t._v("对1-255个成员的枚举需要1个字节存储;对于255-65535个成员，需要2个字节存储;最多允许65535个成员。")]),t._v(" "),_("td",[t._v("单选：选择性别")])]),t._v(" "),_("tr",[_("td",[t._v("SET")]),t._v(" "),_("td",[t._v("1-8个成员的集合，占1个字节9-16个成员的集合，占2个字节17-24个成员的集合，占3个字节25-32个成员的集合，占4个字节33-64个成员的集合，占8个字节")]),t._v(" "),_("td",[t._v("多选：兴趣爱好")])])])]),t._v(" "),_("div",{staticClass:"language-mysql extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("\n")])])]),_("h2",{attrs:{id:"表的完整性约束"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#表的完整性约束"}},[t._v("#")]),t._v(" 表的完整性约束")]),t._v(" "),_("h3",{attrs:{id:"_1-not-null"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-not-null"}},[t._v("#")]),t._v(" 1.not null")]),t._v(" "),_("p",[t._v("是否可空，null表示空，非字符串\nnot null - 不可空\nnull - 可空")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("mysql> create table t12 (id int not null);\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql> select * from t12;\nEmpty set (0.00 sec)\n\nmysql> desc t12;\n+-------+---------+------+-----+---------+-------+\n| Field | Type    | Null | Key | Default | Extra |\n+-------+---------+------+-----+---------+-------+\n| id    | int(11) | NO   |     | NULL    |       |\n+-------+---------+------+-----+---------+-------+\n1 row in set (0.00 sec)\n\n#不能向id列插入空元素。 \nmysql> insert into t12 values (null);\nERROR 1048 (23000): Column 'id' cannot be null\n\nmysql> insert into t12 values (1);\nQuery OK, 1 row affected (0.01 sec)\n\nnot null示例\n")])])]),_("p",[t._v("我们约束某一列不为空，如果这一列中经常有重复的内容，就需要我们频繁的插入，这样会给我们的操作带来新的负担，于是就出现了默认值的概念。")]),t._v(" "),_("p",[t._v("默认值，创建列时可以指定默认值，当插入数据时如果未主动设置，则自动添加默认值")]),t._v(" "),_("p",[_("strong",[t._v("default")])]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v(" create table t13 (id1 int not null,id2 int not null default 222);\n")])])]),_("h3",{attrs:{id:"_2-unique"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-unique"}},[t._v("#")]),t._v(" 2.unique")]),t._v(" "),_("p",[t._v("唯一约束，指定某列或者几列组合不能重复")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("方法一：\ncreate table department1(\nid int,\nname varchar(20) unique,\ncomment varchar(100)\n);\n\n\n方法二：\ncreate table department2(\nid int,\nname varchar(20),\ncomment varchar(100),\nunique(name)\n);\n")])])]),_("h3",{attrs:{id:"_3-primary-key"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-primary-key"}},[t._v("#")]),t._v(" 3.primary key")]),t._v(" "),_("p",[t._v("主键为了保证表中的每一条数据的该字段都是表格中的唯一值。换言之，它是用来独一无二地确认一个表格中的每一行数据。\n主键可以包含一个字段或多个字段。当主键包含多个栏位时，称为组合键 (Composite Key),也可以叫联合主键。\n主键可以在建置新表格时设定 (运用 CREATE TABLE 语句)，或是以改变现有的表格架构方式设定 (运用 ALTER TABLE)。\n主键必须唯一，主键值非空；可以是单一字段，也可以是多字段组合。")]),t._v(" "),_("p",[t._v("3.1 单字段主键")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("#方法一：not null+unique\ncreate table department1(\n\tid int not null unique, #主键\n\tname varchar(20) not null unique,\n\tcomment varchar(100)\n);\n#方法二：在某一个字段后用primary key\ncreate table department2(\n\tid int primary key, #主键\n\tname varchar(20),\n\tcomment varchar(100)\n);\n#方法三：在所有字段后单独定义primary key\ncreate table department3(\n\tid int,\n\tname varchar(20),\n\tcomment varchar(100),\n\tprimary key(id); #创建主键并为其命名pk_name\n)\n")])])]),_("p",[t._v("3.2 多字段主键")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("create table service(\n\tip varchar(15),\n\tport char(5),\n\tservice_name varchar(10) not null,\n\tprimary key(ip,port)\n);\n")])])]),_("p",[t._v("​\t"),_("strong",[t._v("auto_increment")])]),t._v(" "),_("p",[t._v("约束字段为自动增长，被约束的字段必须同时被key约束")]),t._v(" "),_("h3",{attrs:{id:"_4-foreign-key"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-foreign-key"}},[t._v("#")]),t._v(" 4.foreign key")]),t._v(" "),_("p",[t._v("多表 ：")]),t._v(" "),_("p",[t._v("假设我们要描述所有公司的员工，需要描述的属性有这些 ： 工号 姓名 部门")]),t._v(" "),_("p",[t._v("公司有3个部门，但是有1个亿的员工，那意味着部门这个字段需要重复存储，部门名字越长，越浪费")]),t._v(" "),_("p",[t._v("解决方法： 我们完全可以定义一个部门表 然后让员工信息表关联该表，如何关联，即foreign key")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("create table staff_info (\n\ts_id int,name varchar(20),\n\tdep_id int,\n\tforeign key(dep_id) references departments(dep_id) //被关联表的字段必需是唯一\n);\n")])])]),_("h2",{attrs:{id:"修改表结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#修改表结构"}},[t._v("#")]),t._v(" 修改表结构")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("语法：\n1. 修改表名\n      ALTER TABLE 表名 \n                      RENAME 新表名;\n\n2. 增加字段\n      ALTER TABLE 表名\n                      ADD 字段名  数据类型 [完整性约束条件…],\n                      ADD 字段名  数据类型 [完整性约束条件…];\n                            \n3. 删除字段\n      ALTER TABLE 表名 \n                      DROP 字段名;\n\n4. 修改字段\n      ALTER TABLE 表名 \n                      MODIFY  字段名 数据类型 [完整性约束条件…];\n      ALTER TABLE 表名 \n                      CHANGE 旧字段名 新字段名 旧数据类型 [完整性约束条件…];\n      ALTER TABLE 表名 \n                      CHANGE 旧字段名 新字段名 新数据类型 [完整性约束条件…];\n\n5.修改字段排列顺序/在增加的时候指定字段位置\n    ALTER TABLE 表名\n                     ADD 字段名  数据类型 [完整性约束条件…]  FIRST;\n    ALTER TABLE 表名\n                     ADD 字段名  数据类型 [完整性约束条件…]  AFTER 字段名;\n    ALTER TABLE 表名\n                     CHANGE 字段名  旧字段名 新字段名 新数据类型 [完整性约束条件…]  FIRST;\n    ALTER TABLE 表名\n                     MODIFY 字段名  数据类型 [完整性约束条件…]  AFTER 字段名;\n")])])]),_("h2",{attrs:{id:"删除表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#删除表"}},[t._v("#")]),t._v(" 删除表")]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("DROP TABLE 表名;\n")])])])])}),[],!1,null,null,null);v.default=e.exports}}]);