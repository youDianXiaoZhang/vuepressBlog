(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{327:function(t,e,n){"use strict";n.r(e);var a=n(33),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"在vue开发中遇到的问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在vue开发中遇到的问题"}},[t._v("#")]),t._v(" 在Vue开发中遇到的问题")]),t._v(" "),n("h2",{attrs:{id:"_1-读取本地文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-读取本地文件"}},[t._v("#")]),t._v(" 1.读取本地文件")]),t._v(" "),n("ol",[n("li",[t._v("通过上传读取文件内容")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('<el-upload\n\tclass="upload-demo"\n\taction="/"\n\t:disabled="this.fileList.length !== 0"\n\t:default-file-list="fileList"\n\t:before-upload="beforeUpload"\n>\n\t<el-button size="small" type="primary">点击上传</el-button>\n</el-upload>\n\n\nbeforeCreate() {\n\t// 读取文件\n\tFileReader.prototype.reading = function ({ encode } = pms) {\n\t\tlet bytes = new Uint8Array(this.result);    //无符号整型数组\n\t\tlet text = new TextDecoder(encode || \'UTF-8\').decode(bytes);\n\t\treturn text;\n\t};\n\t/* 重写readAsBinaryString函数 */\n\tFileReader.prototype.readAsBinaryString = function (f) {\n\t\tif (!this.onload)       //如果this未重写onload函数，则创建一个公共处理方式\n\t\t\tthis.onload = e => {  //在this.onload函数中，完成公共处理\n\t\t\t\tlet rs = this.reading();\n\t\t\t};\n\t\tthis.readAsArrayBuffer(f);  //内部会回调this.onload方法\n\t};\n}\n\n\nbeforeUpload(file) {\n\tthis.fileList = [file]\n\t// 读取数据\n\tthis.read(file);\n\treturn false\n},\nread(f) {\n\tlet rd = new FileReader();\n\trd.onload = e => {\n\t\t//this.readAsArrayBuffer函数内，会回调this.onload函数。在这里处理结果\n\t\tlet cont = rd.reading({ encode: \'GBK\' });\n\n\t\tthis.urls = cont.split("\\n").map((item) => {\n\t\t\treturn item.trim();\n\t\t})\n\t\tlet formerData = this.textData;\n\t\tthis.textData = formerData + "\\n" + cont;\n\t};\n\trd.readAsBinaryString(f);\n}\n\n')])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("直接读取本地文件")])]),t._v(" "),n("blockquote",[n("p",[t._v("要注意文件的存放位置，默认读public文件夹")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("readFile(filePath) {\n\t// 创建一个新的xhr对象\n\tlet xhr = null\n\tif (window.XMLHttpRequest) {\n\t\txhr = new XMLHttpRequest()\n\t} else {\n\t\t// eslint-disable-next-line\n\t\txhr = new ActiveXObject('Microsoft.XMLHTTP')\n\t}\n\tconst okStatus = document.location.protocol === 'file' ? 0 : 200\n\txhr.open('GET', filePath, false)\n\txhr.overrideMimeType('text/html;charset=utf-8')\n\txhr.send(null)\n\treturn xhr.status === okStatus ? xhr.responseText : null\n}\n")])])]),n("h2",{attrs:{id:"_2-在ifreame中获取父页面的属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-在ifreame中获取父页面的属性"}},[t._v("#")]),t._v(" 2.在ifreame中获取父页面的属性")]),t._v(" "),n("ol",[n("li",[t._v("获取window")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("window.parent\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("获取url\n通过parent !=window检测iframe与父页面是否同源，当不同源时，使用document.referrer，否则使用parent.location.href或者top.location.href；")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("function getParentUrl() { \n    var url = null;\n    if (parent !== window) { \n        try {\n           url = parent.location.href; \n        }catch (e) { \n           url = document.referrer; \n        } \n     }\n     return url;\n}\n")])])]),n("h2",{attrs:{id:"_3-修改element-ui中table组件的滚动条"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改element-ui中table组件的滚动条"}},[t._v("#")]),t._v(" 3.修改element-ui中Table组件的滚动条")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v(".el-table__body-wrapper::-webkit-scrollbar {\n    width: 6px; // 横向滚动条\n    height: 6px; // 纵向滚动条 必写\n}\n// 滚动条的滑块\n.el-table__body-wrapper::-webkit-scrollbar-thumb {\n    background-color: #ddd;\n    border-radius: 3px;\n}\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);